# frozen_string_literal: true

Pod::Spec.new do |s|
  s.name = 'Gutenberg'
  s.summary = 'Printing since 1440'
  s.homepage = 'https://github.com/wordpress-mobile/gutenberg-mobile'
  s.authors = 'Automattic'

  s.version = '<%= JSON.parse(File.read(File.join(File.dirname(File.dirname(File.expand_path(__dir__))), 'package.json')))['version'] %>'

  <%# This ought to be read from package.json, but there isn't one at the moment. %>
  s.license = { type: 'GPL2' }

  <%# TODO: These should be read from shared configuration files %>
  s.ios.deployment_target = '13.0'
  s.swift_version = '5.0'

  s.source = {
    http: "https://cdn.a8c-ci.services/gutenberg-mobile/Gutenberg-<%= id %>.tar.gz"
  }

  s.vendored_frameworks = [
    'Frameworks/Aztec.xcframework',
    'Frameworks/Gutenberg.xcframework',
    'Frameworks/React.xcframework',
    'Frameworks/RNTAztecView.xcframework',
    'Frameworks/yoga.xcframework'
  ]
end
